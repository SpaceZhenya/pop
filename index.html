<!DOCTYPE html>
<html>
<head>
  <title>Offline Multi-Paragraph Story Generator</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; max-width: 800px; margin: auto; padding: 20px; background: #f9f9f9; }
    h1 { text-align: center; }
    select, input, button { width: 100%; margin-top: 10px; padding: 10px; font-size: 16px; }
    #story { margin-top: 20px; white-space: pre-wrap; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    button { cursor: pointer; background-color: #4CAF50; color: white; border: none; border-radius: 5px; }
    button:hover { background-color: #45a049; }
  </style>
</head>
<body>
  <h1>Offline Multi-Paragraph Story Generator</h1>

  <label for="genre">Pick a genre:</label>
  <select id="genre">
    <option value="fantasy">Fantasy</option>
    <option value="adventure">Adventure</option>
    <option value="mystery">Mystery</option>
  </select>

  <label for="character">Enter main character name (optional):</label>
  <input type="text" id="character" placeholder="e.g., Luna the cat">

  <button onclick="generateStory()">Generate Story</button>

  <div id="story"></div>

  <script>
    const storySegments = {
      fantasy: {
        beginnings: [
          "{character} awoke in a kingdom of soaring towers and magical forests, not knowing what adventure awaited them.",
          "In a land filled with dragons and enchanted creatures, {character} stumbled upon a hidden pathway beneath the ancient trees."
        ],
        middles: [
          "Along the journey, {character} discovered a glowing crystal that shimmered with strange magic.",
          "Facing countless challenges, {character} used courage and wit to overcome enchanted obstacles."
        ],
        endings: [
          "In the end, {character} returned home, wiser and ready for the next adventure.",
          "Finally, {character} uncovered a secret that would change the fate of the entire kingdom."
        ]
      },
      adventure: {
        beginnings: [
          "{character} set out on a daring sea voyage under stormy skies.",
          "Through dense jungles and rugged mountains, {character} followed an ancient map."
        ],
        middles: [
          "They faced hidden traps, wild animals, and mysterious phenomena along the way.",
          "Unexpected allies joined {character}, helping them overcome the toughest challenges."
        ],
        endings: [
          "After days of travel, {character} discovered a treasure beyond imagination.",
          "Finally, the journey ended with {character} reflecting on all the lessons learned."
        ]
      },
      mystery: {
        beginnings: [
          "In a foggy town, {character} found a cryptic letter hinting at a decades-old secret.",
          "Late at night, {character} noticed shadows moving across the old library walls."
        ],
        middles: [
          "{character} followed clues that led deeper into hidden passages.",
          "With each discovery, the mystery became more puzzling and dangerous."
        ],
        endings: [
          "Finally, {character} uncovered a truth no one expected, solving the mystery.",
          "In the end, {character}'s courage and insight revealed secrets that had been long forgotten."
        ]
      }
    };

    function randomElement(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function generateStory() {
      const genre = document.getElementById('genre').value;
      let character = document.getElementById('character').value || "The hero";
      const segments = storySegments[genre];
      const storyDiv = document.getElementById('story');

      const story = [
        randomElement(segments.beginnings),
        randomElement(segments.middles),
        randomElement(segments.endings)
      ].map(paragraph => paragraph.replace(/{character}/g, character))
       .join("\n\n");

      storyDiv.textContent = story;
    }
  </script>
</body>
</html>
