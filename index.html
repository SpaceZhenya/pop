<!DOCTYPE html>
<html>
<head>
  <title>Offline AI-Like Story Generator</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: auto; padding: 20px; }
    input, select, button { width: 100%; margin: 10px 0; padding: 12px; font-size: 16px; }
    #story { margin-top: 20px; white-space: pre-wrap; background: #f9f9f9; padding: 20px; border-radius: 10px; max-height: 600px; overflow-y: auto; }
    button { background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; }
    button:hover { background: #45a049; }
  </style>
</head>
<body>
  <h1>Offline “AI-Like” Story Generator</h1>

  <label>Genre:</label>
  <select id="genre">
    <option value="fantasy">Fantasy</option>
    <option value="adventure">Adventure</option>
    <option value="mystery">Mystery</option>
  </select>

  <label>Main character name:</label>
  <input type="text" id="character" placeholder="e.g., Luna the cat">

  <label>Story prompt:</label>
  <input type="text" id="prompt" placeholder="An epic adventure begins">

  <button id="generateBtn">Generate Story</button>
  <button id="copyBtn">Copy Story</button>

  <div id="story"></div>

  <script>
    const storyChunks = {
      fantasy: [
        "awoke in a shimmering forest where magic floated in the air.",
        "found a glowing crystal that pulsed with energy.",
        "met a wise dragon who revealed secrets of the ancient world.",
        "journeyed through mountains and valleys filled with enchanted creatures.",
        "discovered powers within themselves they never knew existed.",
        "returned home, forever changed by the adventures they'd experienced."
      ],
      adventure: [
        "set sail across stormy seas in search of hidden treasure.",
        "found a mysterious map leading to a secret island.",
        "braved jungles filled with wild animals and ancient ruins.",
        "solved riddles left by explorers long ago.",
        "formed alliances with courageous companions.",
        "emerged victorious, bringing back tales of glory."
      ],
      mystery: [
        "walked through foggy streets with a cryptic letter in hand.",
        "found hidden clues in abandoned buildings and dusty libraries.",
        "decoded secret messages that led to shocking revelations.",
        "uncovered a plot that had remained hidden for decades.",
        "restored truth and justice to the town.",
        "became a hero known for their cleverness and courage."
      ]
    };

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function generateStory() {
      const genre = document.getElementById('genre').value;
      const character = document.getElementById('character').value || "The hero";
      const prompt = document.getElementById('prompt').value || "";

      const chunks = [...storyChunks[genre]];
      shuffleArray(chunks);

      // Repeat chunks to make story longer
      let storyText = "";
      for (let i = 0; i < 5; i++) {
        chunks.forEach(chunk => {
          storyText += `${character} ${chunk} `;
        });
      }

      // Add user prompt at the beginning
      storyText = `${prompt} ${storyText}`;

      document.getElementById('story').textContent = storyText;
    }

    document.getElementById('generateBtn').addEventListener('click', generateStory);

    document.getElementById('copyBtn').addEventListener('click', () => {
      const text = document.getElementById('story').textContent;
      navigator.clipboard.writeText(text);
      alert("Story copied to clipboard!");
    });
  </script>
</body>
</html>
